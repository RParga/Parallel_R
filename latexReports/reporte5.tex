%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  para un artículo en LaTeX en español.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[]{article}
% Esto es para poder escribir acentos directamente:
\usepackage[latin1]{inputenc}
% Esto es para que el LaTeX sepa que el texto estÃ¡ en espaÃ±ol:
\usepackage[spanish]{babel}
%para cambiar los margenes del texto
\usepackage[a4paper,left=3cm,right=2cm,top=2.5cm,bottom=2.5cm]{geometry}
\usepackage{hyperref}
\usepackage{graphicx}
% Paquetes de la AMS:
%\usepackage{amsmath, amsthm, amsfonts,float}
\graphicspath{ {../Tarea_5/images/} }


%--------------------------------------------------------------------------
\title{Reporte práctica cinco: Método Monte-Carlo}
\author{José Anastacio Hernández Saldaña\\
  \small Posgrado de Ingeniería de Sistemas\\
  \small 1186622\\ 
  \small jose.hernandezsld@uanl.edu.mx
}

\begin{document}

\maketitle

\abstract{Este es un reporte sobre la práctica cinco con respecto al
  tema de Diagramas de Voronoi que se realizó en la clase de
  Simulación de Sistemas, cómputo paralelo en R.}


\section{Tarea: Examinar el efecto del tamaño de la muestra en el método Monte-Carlo con la precisión y el tiempo de ejecución}

El método Monte-Carlo es un método estadístico numérico usado para
aproximar expresiones matemáticas complejas y computacionalmente
costosas de manera eficiente. Consiste en usar un espacio delimitado donde
se encuentra la función a evaluar, la idea principal del método es
generar números aleatorios dentro de ese espacio y calcular la
proporción de puntos que están dentro o fuera, por arriba o por debajo
de la función y obtener así una aproximación del área cubierta. Esto
puede ser utilizado para calcular integrales complejas, volúmenes
complejos e incluso para hacer pronósticos.

\subsection{Diseño del Experimento}

Para el experimento se tomó como base el código de la
\href{http://elisa.dyndns-web.com/teaching/comp/par/p5.html}{página
  del curso}, donde tenemos la función $f(x)=\frac{1}{e^{x}+e^{-x}}$
de la cual queremos resolver $\int_3^7f(x) dx$ y utilizaremos el
método Monte-Carlo para aproximar el valor de su integral, podemos ver
esta gráfica en la figura \ref{fig::figura1}.

\begin{figure}[h!]
  \centering
  \includegraphics[width=0.5\linewidth]{fx}
  \caption{Gráfica de la función $f(x)=\frac{1}{e^{x}+e^{-x}}$}
  \label{fig::figura1} 
\end{figure}

La aproximación fue posible ya que la función
$\int_{\infty}^{-\infty}\frac{2}{\pi}f(x)dx$ es una distribución de
probabilidad valida, es decir, la integral de esa función es igual a
uno; por esto podemos crear números aleatorios basados en
ella. Utilizamos estos valores para calcular el área entre los limites
de nuestra integral, usando la suma de los valores entre nuestros
limites derecho e izquierdo, tendremos el valor aproximado del área
esto se puede ver en la figura \ref{fig::figura2}.  Ahora solo queda
hacer la transformación de nuestra distribución de probabilidad a
nuestra función $f(x)$ .
\begin{figure}[h!]
  \centering
  \includegraphics[width=0.5\linewidth]{p5m}
  \caption{Gráfica de la función $f(x)=\frac{2}{\pi(e^{x}+e^{-x})}$ y un área aproximada}
  \label{fig::figura2} 
\end{figure}
Para comenzar la experimentación, se utilizó una computadora con las
siguientes especificaciones, Procesador Intel Core i7-4790 CPU @
3.6GHz $\times$ 8 y Memoria RAM de 24 GB. Utilizando solamente los
cuatro núcleos físicos disponibles. Como el tamaño de la muestra nos
da que tan delgadas son las barras que utilizaremos para calcular el
área se vario el tamaño de la muestra $m$ para poder identificar como
afecta esto a la precisión del calculo de la integral, como se trabajo
una implementación paralela, se paralelizar un número fijo de replicas
$r$, para calcular el promedio de todas ellas y así obtener el valor
aproximado. Este procedimiento es similar a incrementar el tamaño de
la muestra en $r$ dando el tamaño de la muestra por $m \times r$.

Los tamaños de $m$ utilizados fueron 1,250, 2,500, 5,000, 10,000, 25,000,
50,000, 125,000 y el valor de $r$ fue constante a 50, así que el total
del tamaño de la muestra fueron 62,500, 125,000, 250,000, 500,000,
1;250,000, 2;500,000, 6;250,000. El porcentaje de separación entre el valor calculado $vc$ y el valor real $vr$ obtenido de la pagina de \href{https://www.wolframalpha.com/input/?i=integrate++(1%2F(exp(x)%2Bexp(-x)))+from+3+to+7}{wolframalpha} se calculo a partir de la formula $\frac{vr-vc}{vr}\times 100$. El tiempo se tomó en milisegundos.

\subsection{Resultados}

Al revisar los resultados del experimento pudimos confirmar lo
esperado con respecto al tamaño de la muestra y el porcentaje de
separación, como podemos ver en la figura \ref{fig::figura3}
\begin{figure}[h!]
  \centering
  \includegraphics[width=0.7\linewidth]{bxplt_Gap_Tam}
  \caption{Variación del porcentaje de separación con respecto al tamaño de la muestra }
  \label{fig::figura3} 
\end{figure}
\begin{figure}[h!]
  \centering
  \includegraphics[width=0.7\linewidth]{bxplt_Time_Tam}
  \caption{Variación del tiempo con respecto al tamaño de la muestra }
  \label{fig::figura4} 
\end{figure}

\section{Extra Uno: Argumentar causas en los tiempos de ejecución debido a los núcleos asignados}

\subsection{Diseño del Experimento}


\subsection{Resultados}

\begin{figure}[h!]
  \centering
  \includegraphics[width=0.7\linewidth]{bxplt_Gap_TamE1}
  \caption{Variación del porcentaje de separación con respecto al tamaño de la muestra }
  \label{fig::figura5} 
\end{figure}
\begin{figure}[h!]
  \centering
  \includegraphics[width=0.7\linewidth]{bxplt_Time_TamE1}
  \caption{Variación del tiempo con respecto al tamaño de la muestra }
  \label{fig::figura6} 
\end{figure}

\section{Extra Dos: Pruebas estadísticas a las series sucesivas}

\section{Conclusiones}

\end{document}
